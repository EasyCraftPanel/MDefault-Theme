{init:server}
{init:cores}
{include:header var.title=var.server.name}
<div class="mdui-card mdui-col-xs-12" style="padding-bottom: 50px;">
  <div class="mdui-card-primary">
    <div class="mdui-card-primary-title">{var.server.name}</div>
	<div class="mdui-card-primary-subtitle{if:var.server.expired} mdui-text-color-red{endif}">到期时间: {var.server.expiretime}</div>
  </div>
	
	<ul class="mdui-list mdui-col-md-3 mdui-col-xs-12">
		<li class="mdui-list-item mdui-ripple" id="easycraft-toggle-status">
			<i id="easycraft-server-status-icon" class="mdui-list-item-icon mdui-icon material-icons">{if:var.server.running}pause{else}play_arrow{endif}</i>
			<div id="easycraft-server-status-text" class="mdui-list-item-content">{if:var.server.running}停止{else}启动{endif}</div>
		</li>
		<a class="mdui-list-item mdui-ripple mdui-list-item-active" href="/page/server/{var.server.id}">
			<i id="easycraft-server-status-icon" class="mdui-list-item-icon mdui-icon material-icons">info</i>
			<div id="easycraft-server-status-text" class="mdui-list-item-content">信息</div>
		</a>
		<a class="mdui-list-item mdui-ripple" href="/page/console/{var.server.id}">
			<i id="easycraft-server-status-icon" class="mdui-list-item-icon mdui-icon material-icons">dvr</i>
			<div id="easycraft-server-status-text" class="mdui-list-item-content">控制台</div>
		</a>
	</ul>
	<form onsubmit="return false;" id="easycraft-server-info-form" class="mdui-col-md-8 mdui-col-offset-md-1 mdui-col-xs-12">
		<div class="mdui-typo-display-3">服务器信息</div>
		<input type="hidden" name="sid" value="{var.server.id}">
		<p class="mdui-col-md-2 mdui-col-xs-12">服务器名称</p>
		<div class="mdui-col-md-10 mdui-textfield">
			<input class="mdui-textfield-input" value="{var.server.name}" name="name" type="text" {if:var.user.type<="2"}disabled{endif}/>
		</div>
		<p class="mdui-col-md-2 mdui-col-xs-12">最大玩家数</p>
		<div class="mdui-col-md-10 mdui-textfield">
			<input class="mdui-textfield-input" value="{var.server.maxplayer}" name="maxplayer" type="text" {if:var.user.type<="2"}disabled{endif}/>
		</div>
		<p class="mdui-col-md-2 mdui-col-xs-12">端口</p>
		<div class="mdui-col-md-10 mdui-textfield">
			<input class="mdui-textfield-input" value="{var.server.port}" name="port" type="text" {if:var.user.type<="2"}disabled{endif}/>
		</div>
		<p class="mdui-col-md-2 mdui-col-xs-12">内存</p>
		<div class="mdui-col-md-10 mdui-textfield">
			<input class="mdui-textfield-input" value="{var.server.ram}" name="ram" type="text" {if:var.user.type<="2"}disabled{endif}/>
		</div>
		<p class="mdui-col-md-2 mdui-col-xs-12">到期时间</p>
		<div class="mdui-col-md-10 mdui-textfield">
			<input class="mdui-textfield-input" value="{var.server.expiretime}" name="expiretime" type="text" {if:var.user.type<="2"}disabled{endif}/>
		</div>
		<p class="mdui-col-md-2 mdui-col-xs-12">核心</p>
		<select class="mdui-col-md-10 mdui-select" name="core" mdui-select>
			{foreach:var.cores}
			<option value="{var.for.core.id}"{if:var.for.core.id=var.server.core} selected = "selected"{endif}>{var.for.core.name}</option>
			{break}
		</select>
		<br />
		<button id="easycraft-server-info-save" class="mdui-btn mdui-btn-block mdui-color-theme-accent mdui-ripple" style="margin-top: 30px;">保存</button>
	</form>
  </div>
</div>

<script>
var run_status = {var.server.running};
var server_id = {var.server.id};
</script>
{include:footer}